<!-- HEADER -->
<app-navigation-bar></app-navigation-bar>

<div class="p-3 text-white">
  <form [formGroup]="addNewClanFormGroup" (ngSubmit)="onSubmit()">
    <h3 class="fw-normal fs-3" style="letter-spacing: 1px;">Create New Clan</h3>

    <div class="row mb-3">
      <div class="form-floating">
        <input formControlName="clanName" type="text" id="clanName" class="form-control">
        <label class="form-label mx-2" for="clanName" style="margin-left: 0px;">Name</label>
      </div>
      <div>
        <div *ngIf="clanName?.invalid && (clanName?.dirty || clanName?.touched)" class="alert alert-danger px-2 m-0">

          <div *ngIf="clanName?.errors?.['required'] || clanName?.errors?.['notOnlyWhitespace']">
            Clan Name is required.
          </div>

          <div *ngIf="clanName?.errors?.['minlength']">
            Clan Name must be at least 2 characters long.
          </div>

        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="form-floating">
        <input formControlName="maxNoOfMembers" type="number" id="maxNoOfMembers" class="form-control">
        <label class="form-label mx-2" for="maxNoOfMembers" style="margin-left: 0px;">Maximum No. of Members</label>
      </div>
      <div>
        <div *ngIf="maxNoOfMembers?.invalid && (maxNoOfMembers?.dirty || maxNoOfMembers?.touched)" class="alert alert-danger px-2 m-0">

          <div *ngIf="maxNoOfMembers?.errors?.['required']">
            [Maximum No. of Members] is required.
          </div>

          <div *ngIf="maxNoOfMembers?.errors?.['min'] || maxNoOfMembers?.errors?.['max']">
            [Maximum No. of Members] must be between 5 and 50.
          </div>

        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="form-floating">
        <input formControlName="requiredTrophies" type="number" id="requiredTrophies" class="form-control">
        <label class="form-label mx-2" for="requiredTrophies" style="margin-left: 0px;">Required Trophies</label>
      </div>
      <div>
        <div *ngIf="requiredTrophies?.invalid && (requiredTrophies?.dirty || requiredTrophies?.touched)" class="alert alert-danger px-2 m-0">

          <div *ngIf="requiredTrophies?.errors?.['required']">
            [Required Trophies] is required.
          </div>

          <div *ngIf="requiredTrophies?.errors?.['min'] || requiredTrophies?.errors?.['max']">
            [Required Trophies] must be between 0 and 10000.
          </div>

        </div>
      </div>
    </div>

    <div class="pt-1 mb-3 d-flex">
      <button id="save-btn" class="btn btn-dark btn-block" type="submit" [disabled]="addNewClanFormGroup.invalid">Save</button>&nbsp;
      <button id="back-btn" class="btn btn-dark btn-block" (click)="redirectToMyClanPage()">Back</button>
    </div>
  </form>
</div>
